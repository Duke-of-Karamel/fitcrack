import{n as l}from"./index.28633aa8.js";var n=function(){var e=this,s=e.$createElement,r=e._self._c||s;return r("v-data-table",{ref:"table",attrs:{headers:e.headers,items:e.hashlists,search:e.search,options:e.dataTableOptions,"server-items-length":e.totalItems,loading:e.loading,"show-select":"","single-select":"","footer-props":e.footerProps},on:{"update:options":function(a){e.dataTableOptions=a},input:e.updateSelected},scopedSlots:e._u([{key:"item.name",fn:function(a){var t=a.item;return[r("router-link",{attrs:{to:{name:"hashlistDetail",params:{id:t.id}}}},[e._v(" "+e._s(t.name)+" ")])]}},{key:"item.added",fn:function(a){var t=a.item;return[e._v(" "+e._s(new Date(t.added).toLocaleString())+" ")]}},{key:"item.progress",fn:function(a){var t=a.item;return[r("div",{staticClass:"d-inline-flex align-center"},[r("span",{staticClass:"mr-1"},[e._v(e._s(t.cracked_hash_count)+" / "+e._s(t.hash_count))]),r("v-progress-circular",{attrs:{value:t.cracked_hash_count/t.hash_count*100,max:100,color:"success",size:"18",rotate:"270"}})],1)]}},{key:"footer.prepend",fn:function(a){return[r("v-text-field",{staticClass:"mx-2 mr-8",attrs:{clearable:"","prepend-icon":"mdi-table-search",label:"Search hashlists","single-line":""},on:{input:e.getData},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]}}]),model:{value:e.selected,callback:function(a){e.selected=a},expression:"selected"}})},o=[];const d={props:{selectAll:{type:Boolean,default:!1},value:{type:Number},autoRefresh:Boolean,hideCompleted:Boolean},data(){return{items:[],search:"",selected:[],footerProps:{itemsPerPageOptions:[3,5,10,20,-1],itemsPerPageText:"Hashlists per page"},interval:null,status:"active",totalItems:0,dataTableOptions:{itemsPerPage:3,sortBy:["added"],sortDesc:[!0]},loading:!0,headers:[{text:"Name",value:"name",align:"start",sortable:!0},{text:"Hash type",value:"hash_type_name",align:"end",sortable:!0},{text:"Progress",value:"progress",align:"end",sortable:!1},{text:"Created",value:"added",align:"end",sortable:!0}],hashlists:[]}},mounted(){this.interval=setInterval(()=>{this.autoRefresh&&this.getData(!0)},2e3),this.getData()},beforeDestroy(){clearInterval(this.interval)},computed:{orderBy(){const e=this.dataTableOptions.sortBy;if(e.length>0)switch(e[0]){case"name":return"name";case"hash_type_name":return"hash_type";case"added":return"added";default:return e[0]}else return null}},methods:{getData(){this.axios.get(this.$serverAddr+"/hashlist",{params:{page:this.dataTableOptions.page,per_page:this.dataTableOptions.itemsPerPage,order_by:this.orderBy,descending:this.dataTableOptions.sortDesc?this.dataTableOptions.sortDesc[0]:!1,name:this.search,hide_fully_cracked_hash_lists:this.hideCompleted}}).then(e=>{this.hashlists=e.data.items,this.totalItems=e.data.total,this.loading=!1,this.value&&(this.selected=this.hashlists.filter(s=>s.id==this.value))})},updateSelected(){this.$emit("input",this.selected.length>0?this.selected[0].id:null)}},watch:{value(e){this.selected=e?this.hashlists.filter(s=>s.id==e):[]},dataTableOptions:{handler(){this.loading=!0,this.getData()},deep:!0}}},i={};var h=l(d,n,o,!1,c,null,null,null);function c(e){for(let s in i)this[s]=i[s]}var p=function(){return h.exports}();export{p as H};
