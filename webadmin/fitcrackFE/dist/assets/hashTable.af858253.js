import{n as i}from"./index.e8a7a5b9.js";var d=function(){var t=this,r=t.$createElement,a=t._self._c||r;return a("v-container",[t.noToolbar?t._e():a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",{staticClass:"mr-4"},[t._v("Hashes")]),a("v-spacer"),a("v-btn-toggle",{attrs:{dense:""},on:{change:t.loadHashes},model:{value:t.crackStatus,callback:function(e){t.crackStatus=e},expression:"crackStatus"}},[a("v-btn",{attrs:{value:"All",text:""}},[t._v("All")]),a("v-btn",{attrs:{value:"Cracked",text:""}},[t._v("Cracked")]),a("v-btn",{attrs:{value:"Uncracked",text:""}},[t._v("Uncracked")])],1),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({staticClass:"ml-4",attrs:{color:"primary",text:"",small:"",href:t.downloadLink}},s),[a("v-icon",{attrs:{left:""}},[t._v("mdi-download")]),t._v(" Download ")],1)]}}],null,!1,149201135)},[a("span",[t._v("Export current view. Respects set filters and ordering.")])]),t.linkBack?a("v-btn",{attrs:{color:"primary",text:"",small:"",to:{name:"hashlistDetail",params:{id:t.id}}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-open-in-new")]),t._v(" Open ")],1):t._e()],1),a("v-data-table",{ref:"table",attrs:{headers:t.headers,items:t.hashes,options:t.dataTableOptions,"server-items-length":t.totalItems,loading:t.loading,"footer-props":{itemsPerPageOptions:[25,50,100],itemsPerPageText:"Hashes per page"}},on:{"update:options":function(e){t.dataTableOptions=e}},scopedSlots:t._u([{key:"item.password",fn:function(e){var s=e.item;return[s.password?a("span",[t._v(t._s(s.password))]):a("span",{staticClass:"red--text"},[t._v("\u2013")])]}},{key:"item.hashText",fn:function(e){var s=e.item;return[a("div",{staticClass:"d-flex align-center mw-50"},[a("v-dialog",{attrs:{"max-width":"600"},scopedSlots:t._u([{key:"activator",fn:function(l){var o=l.on;return[a("span",t._g({staticClass:"text-truncate d-inline-block cursor-pointer"},o),[t._v(" "+t._s(t.truncateHashIfNeeded(s.hashText))+" ")])]}}],null,!0)},[a("v-card",[a("v-card-title",[t._v(" Full hash ")]),a("v-card-text",[t._v(" "+t._s(s.hashText)+" ")])],1)],1)],1)]}}])})],1)},c=[];const u={props:{id:Number,noToolbar:Boolean,linkBack:Boolean},data(){return{hashes:[],interval:null,crackStatus:"All",totalItems:0,dataTableOptions:{},loading:!0,headers:[{text:"Hash",value:"hashText",align:"start",sortable:!1},{text:"Password",value:"password",align:"end",sortable:!1},{text:"Completed",value:"time_cracked",align:"end",sortable:!1}]}},computed:{cracked(){switch(this.crackStatus){case"All":return null;case"Cracked":return!0;case"Uncracked":return!1}},downloadLink(){let t="?";return this.cracked!==null&&(t+=`cracked=${this.cracked}`),`${this.$serverAddr}/hashlist/${this.id}/download${t==="?"?"":t}`}},mounted:function(){this.loadHashes()},watch:{dataTableOptions:{handler:function(t){this.loadHashes()},deep:!0}},methods:{loadHashes(){this.loading=!0,this.axios.get(this.$serverAddr+"/hashlist/"+this.id+"/details",{params:{page:this.dataTableOptions.page,per_page:this.dataTableOptions.itemsPerPage,cracked:this.cracked,descending:this.dataTableOptions.sortDesc?this.dataTableOptions.sortDesc[0]:!1}}).then(t=>{this.hashes=t.data.items,this.totalItems=t.data.total,this.loading=!1})},truncateHashIfNeeded(t){return t.length>80?t.substr(0,70)+"...":t}}},n={};var h=i(u,d,c,!1,v,null,null,null);function v(t){for(let r in n)this[r]=n[r]}var m=function(){return h.exports}();export{m as H};
